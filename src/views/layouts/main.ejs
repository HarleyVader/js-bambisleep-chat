<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head.ejs', { title: title || 'BambiSleep.Chat' }) %>
<body>
    <%- include('../partials/nav.ejs') %>
    
    <div class="container">
        <% if (typeof error !== 'undefined' && error) { %>
            <div class="error-message">
                <%= typeof errorMessage !== 'undefined' ? errorMessage : 'An error occurred' %>
            </div>
        <% } %>
        
        <!-- Main content from calling view -->
        <%- body %>
    </div>
    
    <%- include('../partials/footer.ejs') %>
    
    <!-- Common scripts -->
    <script src="/socket.io/socket.io.js"></script>
    
    <% if (typeof scripts !== 'undefined' && scripts) { %>
        <% scripts.forEach(function(script) { %>
            <script src="<%= script %>"></script>
        <% }); %>
    <% } %>
    
    <!-- Add page-specific scripts -->
    <% if (typeof pageScript !== 'undefined' && pageScript) { %>
        <script src="<%= pageScript %>"></script>
    <% } %>
</body>
</html>