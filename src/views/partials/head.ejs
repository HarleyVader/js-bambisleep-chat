<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    <%= title %>
  </title>
  <meta name="description" content="BambiSleep.Chat will reinstall your OS if you let her">
  <meta name="keywords"
    content="BambiSleep, AIGF, AI, LLM, Chat, Hypno, Brainwash, Mindfuck, Bambi, Bambi Sleep, BambiSleep, BambiSleep.chat">
  <meta name="author" content="Brandynette">
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/bambi-core.js"></script>
  <script>
    if (window.BambiSocket) {
      window.BambiSocket.initialize();
    } else {
      console.error("BambiSocket failed to load properly");
    }
  </script>
  <!-- After loading bambi-core.js -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (!window.BambiSocket) {
        console.error("BambiSocket not found. Creating fallback implementation.");
        window.BambiSocket = {
          initialize: function() {
            console.log("BambiSocket fallback initialized");
            this.socket = io ? io() : null;
            if (!this.socket) console.error("Socket.io not available");
          },
          getSocket: function() {
            return this.socket;
          },
          sendMessage: function(event, data) {
            if (this.socket) this.socket.emit(event, data);
          },
          on: function(event, callback) {
            if (this.socket) this.socket.on(event, callback);
          },
          showNotification: function(message, type) {
            console.log(`[${type}] ${message}`);
            // Simple notification fallback
            const toast = document.createElement('div');
            toast.className = `toast toast-${type || 'info'}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
          }
        };
        window.BambiSocket.initialize();
      }
    });
  </script>
  <script src="/js/bambi-forms.js"></script>
</head>